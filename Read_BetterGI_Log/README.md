# Better Genshin Impact 日志分析工具

[![拖放分析](https://img.shields.io/badge/分析方式-拖放文件-green.svg)]()
[![纯前端](https://img.shields.io/badge/技术-纯前端-blue.svg)]()
[![快捷键支持](https://img.shields.io/badge/功能-快捷键操作-orange.svg)]()

一个基于浏览器的日志分析工具，专门用于解析和分析"Better Genshin Impact"软件生成的日志文件。

## 功能特点

- 🖱️ **拖放操作** - 直接拖放日志文件即可分析
- 📊 **多维度统计** - 复活次数、卡死次数、传送失败等关键指标
- 🗺️ **坐标追踪** - 显示卡死点的X/Y坐标信息
- ⚔️ **战斗分析** - 查看复活和超时事件发生的战斗序列
- 🌙 **智能主题** - 06:30前自动启用暗色模式，保护夜间使用眼睛
- ⌨️ **快捷键支持** - 丰富的键盘操作提高效率
- 📱 **响应式设计** - 适配不同屏幕尺寸

## 使用方法

### 基本操作

1. 打开 `index.html` 文件在浏览器中
2. 将 Better Genshin Impact 日志文件拖放到页面区域
3. 系统自动解析并显示分析结果

日志文件名格式应为：`better-genshin-impact-YYYYMMDD.log`

### 界面交互

- 点击配置组标题可折叠/展开详细内容
- 鼠标悬停在"疑似卡死次数"单元格查看卡死点坐标
- 鼠标悬停在"复活次数"或"战斗超时"单元格查看事件发生的战斗序列
- 点击统计数字可固定弹窗，再次点击取消固定
- **R键**可重置所有弹窗位置（当弹窗位置异常时使用）

## 快捷键大全

### 显示控制

| 按键 | 功能 | 说明 |
|------|------|------|
| `T` | 切换时间列显示/隐藏 | 控制"开始时间"和"结束时间"列的显示 |
| `Y` | 切换统计列显示/隐藏 | 控制统计列的显示 |
| `U` | 切换表格格式 | 新旧两种表格布局切换 |
| `` ` `` | 切换亮色/暗色主题 | 在两种主题间切换 |
| `Alt + F` | 全屏模式 | 切换全屏显示 |

### 页面导航

| 按键 | 功能 |
|------|------|
| `W` | 页面向下滚动 |
| `S` | 页面向上滚动 |
| `.` | 在新标签页打开工具 |

### 实用计算功能

| 按键 | 功能 | 示例 |
|------|------|------|
| `7` | 计算原神下次40体力时间 | 输入"35" → 输出"下次40体力时间: 10:30" |
| `9` | 计算BGI日志时间距离现在的时间差 | 输入"2025/05/22 10:52:05" → 输出"已过X天X小时X分" |
| `右2` | 计算BGI日志时间+3天后的日期 | 输入"2025/05/22" → 输出"2025/05/25" |
| `右3` | 计算两个时间点之间的运行时间 | 输入"2025/05/22 10:00:00"和"2025/05/22 12:30:00" → 输出"2小时30分钟" |
| `右5` | 计算N天后的日期 | 输入"5" → 输出"当前日期+5天后的日期" |
| `右7` | 计算原神下次120体力时间 | 输入"80" → 输出"下次120体力时间: 15:20" |
| `右8` | 计算HH.MM后的时间 | 输入"02.30" → 输出"当前时间+2小时30分钟后的时间" |
| `右9` | 计算BGI日志时间+46小时后的时间 | 输入"2025/05/22 10:00:00" → 输出"2025/05/24 08:00:00" |
| `右0` | 显示帮助信息 | 显示所有快捷键功能说明 |
| `R` | 重置弹窗位置 | 将所有弹出的坐标窗口重置到默认位置 |

## 数据解读

### 统计指标说明

- **复活次数**：角色死亡后前往七天神像复活的次数
- **重试次数**：路线重试次数
- **疑似卡死次数**：系统检测到的卡死情况
- **过远跳过**：因距离过远而跳过的路径点
- **战斗超时**：单场战斗超过预设时间
- **传送失败**：传送失败的重试次数

### 特殊标记

- <span style="color:red">红色文本</span>：异常或需要注意的项目
- **快捷键暂停**：脚本被快捷键暂停过
- **领取派遣任务**：执行了派遣任务领取操作
- **脚本未正常走完**：追踪脚本异常结束

## 注意事项

1. 只支持 Better Genshin Impact 生成的日志文件
2. 日志文件名必须包含日期信息(如20250820)
3. 建议使用 Chrome、Firefox 等现代浏览器
4. 大型日志文件可能需要一些时间解析
5. 工具会在早上6:30前自动启用暗色模式，保护眼睛

## 故障排除

- 如果解析失败，请检查日志文件格式是否正确
- 确保文件名以"better-genshin-impact"开头
- 刷新页面可以重置解析状态
- **弹窗位置异常**：按`R`键可重置所有弹窗位置到默认位置
- 坐标弹窗显示不正常时可尝试刷新页面重新加载

---

如有问题或建议，请通过相关渠道反馈。